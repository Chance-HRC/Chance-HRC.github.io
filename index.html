    <!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>stlite app</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.73.1/build/stlite.css"
    />
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.73.1/build/stlite.js"></script>
    <script>
stlite.mount(
  {
    requirements: ["PyPDF2"],
    entrypoint: "Tool.py",
    files: {
"Tool.py": `# --------------------------------------------------------------------------------
# Imports
import streamlit as st
from PyPDF2 import PdfReader, PdfWriter
import io

# --------------------------------------------------------------------------------
# Definitions

# Function to process the page range input
def page_selection(selection, total_pages):
    pages = []
    for part in selection.split(","):
        if "-" in part:
            start, end = map(int, part.split("-"))
            if start > total_pages or end > total_pages:
                raise ValueError("Page range exceeds the total number of pages.")
            pages.extend(range(start - 1, end))
        else:
            page = int(part) - 1
            if page >= total_pages:
                raise ValueError("Page number exceeds the total number of pages.")
            pages.append(page)
    return sorted(set(p for p in pages if 0 <= p < total_pages))

# Function to combine selected pages from multiple PDFs into one
def combine_pdfs(pdf_files, page_ranges):
    writer = PdfWriter()
    for pdf, ranges in zip(pdf_files, page_ranges):
        reader = PdfReader(pdf)
        for page in ranges:
            writer.add_page(reader.pages[page])
    output = io.BytesIO()
    writer.write(output)
    output.seek(0)
    return output

# --------------------------------------------------------------------------------
st.title("PDF Combiner Tool")
pdf_files = st.file_uploader("Upload PDF files", type="pdf", accept_multiple_files=True)

if pdf_files:
    set_all_ranges = st.text_input("Set all page ranges (e.g., 1-3,5):", "")
    page_ranges = []
    valid_input = True
    error_message = ""

    for pdf in pdf_files:
        total_pages = len(PdfReader(pdf).pages)
        default_range = set_all_ranges if set_all_ranges else f"1-{total_pages}"
        ranges = st.text_input(f"Pages for {pdf.name} (e.g., 1-3,5):", default_range)

        try:
            selected_pages = page_selection(ranges, total_pages)
            page_ranges.append(selected_pages)
        except ValueError as e:
            valid_input = False
            error_message = f"Error for {pdf.name}: {e}"
            st.error(error_message)
            break

    if valid_input and st.button("Combine PDFs"):
        combined_pdf = combine_pdfs(pdf_files, page_ranges)
        st.download_button("Download Combined PDF", data=combined_pdf, file_name="combined.pdf", mime="application/pdf")
`,
"pages/User Guide.py": ``,

},
  },
  document.getElementById("root")
)

    </script>
  </body>
  <!-- Generated from stlite sharing (https://edit.share.stlite.net/), and the source version is 404a70b458dbbfb5e557e8ac857f95dad5984398 -->
</html>